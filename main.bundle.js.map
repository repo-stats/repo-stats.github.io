{"version":3,"sources":["/home/keradus/github/repo-stats.github.io/src async","/home/keradus/github/repo-stats.github.io/src/app/app.component.html","/home/keradus/github/repo-stats.github.io/src/app/app.component.scss","/home/keradus/github/repo-stats.github.io/src/app/app.component.ts","/home/keradus/github/repo-stats.github.io/src/app/app.module.ts","/home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.component.html","/home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.component.scss","/home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.component.ts","/home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.service.ts","/home/keradus/github/repo-stats.github.io/src/environments/environment.ts","/home/keradus/github/repo-stats.github.io/src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/keradus/github/repo-stats.github.io/src async\n// module id = ../../../../../src async recursive\n// module chunks = 1","module.exports = \"<div>\\n    <app-packagist></app-packagist>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/keradus/github/repo-stats.github.io/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host {\\n  text-align: center; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/keradus/github/repo-stats.github.io/src/app/app.component.scss\n// module id = ../../../../../src/app/app.component.scss\n// module chunks = 1","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'repo-stats';\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/keradus/github/repo-stats.github.io/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport {\n    MdDatepickerModule,\n    MdInputModule,\n    MdNativeDateModule,\n    MdSelectModule,\n    MdButtonModule,\n    MdProgressBarModule,\n} from '@angular/material';\n\nimport { AppComponent } from './app.component';\nimport { PackagistComponent } from './packagist/packagist.component';\nimport { PackagistService } from './packagist/packagist.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PackagistComponent,\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    MdDatepickerModule,\n    MdInputModule,\n    MdNativeDateModule,\n    MdSelectModule,\n    MdButtonModule,\n    MdProgressBarModule,\n  ],\n  exports: [\n  ],\n  providers: [\n    PackagistService,\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/keradus/github/repo-stats.github.io/src/app/app.module.ts","module.exports = \"<h2>Packagist repo stats</h2>\\n<form>\\n    <md-input-container>\\n        <input mdInput placeholder=\\\"Provide package name\\\" [(ngModel)]=\\\"packageName\\\" name=\\\"packageName\\\">\\n    </md-input-container>\\n\\n    <md-input-container>\\n        <input mdInput [mdDatepicker]=\\\"picker_from\\\" placeholder=\\\"Choose a start date\\\" [(ngModel)]=\\\"fromDate\\\" name=\\\"fromDate\\\">\\n        <button mdSuffix [mdDatepickerToggle]=\\\"picker_from\\\"></button>\\n        <md-datepicker #picker_from></md-datepicker>\\n    </md-input-container>\\n\\n    <md-input-container>\\n        <input mdInput [mdDatepicker]=\\\"picker_to\\\" placeholder=\\\"Choose a end date\\\" [(ngModel)]=\\\"toDate\\\" name=\\\"toDate\\\">\\n        <button mdSuffix [mdDatepickerToggle]=\\\"picker_to\\\"></button>\\n        <md-datepicker #picker_to></md-datepicker>\\n    </md-input-container>\\n\\n    <md-select placeholder=\\\"Choose grouping\\\" [(ngModel)]=\\\"grouping\\\" name=\\\"grouping\\\">\\n        <md-option *ngFor=\\\"let possibleGrouping of possibleGroupings\\\" [value]=\\\"possibleGrouping.value\\\">\\n            {{possibleGrouping.label}}\\n        </md-option>\\n    </md-select>\\n\\n    <br>\\n\\n    <button md-raised-button (click)=\\\"check()\\\">Check</button>\\n</form>\\n\\n<div *ngIf=\\\"poolCounter\\\" class=\\\"progress\\\">\\n    <md-progress-bar [value]=\\\"(100 * poolCounter.step / poolCounter.max)\\\">aaa</md-progress-bar>\\n    {{poolCounter.step}} of {{poolCounter.max}}\\n</div>\\n\\n<table *ngIf=\\\"versions\\\">\\n    <thead>\\n        <tr>\\n            <th>version</th>\\n            <th>downloads</th>\\n            <th>%</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        <tr *ngFor=\\\"let version of versions\\\">\\n            <td>{{version.version}}</td>\\n            <td>{{version.downloads}}</td>\\n            <td>{{(100 * version.downloads / totalDownloads) | number:'1.2-2'}}</td>\\n        </tr>\\n    </tbody>\\n</table>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.component.html\n// module id = ../../../../../src/app/packagist/packagist.component.html\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"table {\\n  margin: auto; }\\n\\n.progress {\\n  margin: 25px auto;\\n  width: 250px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.component.scss\n// module id = ../../../../../src/app/packagist/packagist.component.scss\n// module chunks = 1","import { Component, OnInit } from '@angular/core';\n\nimport {\n    PackagistService,\n} from './packagist.service';\nimport ResolvedNumberFormatOptions = Intl.ResolvedNumberFormatOptions;\n\nclass PoolCounter {\n    private _step = 0;\n\n    constructor(private _max: number) {}\n\n    public get step() {\n        return this._step;\n    }\n\n    public get max() {\n        return this._max;\n    }\n\n    public increase() {\n        ++this._step;\n    }\n}\n\ninterface VersionDownloads {\n    version: string;\n    downloads: number;\n}\n\n@Component({\n  selector: 'app-packagist',\n  templateUrl: './packagist.component.html',\n  styleUrls: ['./packagist.component.scss']\n})\nexport class PackagistComponent implements OnInit {\n  private fromDate: Date;\n  private toDate: Date;\n  private packageName = 'friendsofphp/php-cs-fixer';\n  private versions: VersionDownloads[] | undefined;\n  private poolCounter: PoolCounter | undefined;\n  private totalDownloads: number | undefined;\n  private grouping: 'MAJOR' | 'MINOR' = 'MINOR';\n  private possibleGroupings = [\n      {\n          value: 'MAJOR',\n          label: 'MAJOR',\n      },\n      {\n          value: 'MINOR',\n          label: 'MINOR',\n      },\n  ];\n\n  public constructor(\n      private packagistService: PackagistService,\n  ) {\n      this.fromDate = new Date();\n      this.fromDate.setMonth(this.fromDate.getMonth() - 1);\n      this.fromDate.setDate(this.fromDate.getDate() - 7);\n\n      this.toDate = new Date();\n      this.toDate.setDate(this.toDate.getDate() - 7);\n  }\n\n  public ngOnInit() {\n  }\n\n  public check() {\n      this.versions = undefined;\n      this.totalDownloads = undefined;\n      this.poolCounter = undefined;\n\n      const fromDate = this.fromDate.toISOString().substring(0, 10);\n      const toDate = this.toDate.toISOString().substring(0, 10);\n\n      this.packagistService.getPackageVersions(this.packageName).subscribe(\n          (versions: string[]): void => {\n              this.poolCounter = new PoolCounter(versions.length);\n              const versionsPromises = versions.map((version: string): Promise<VersionDownloads> => {\n                return this.packagistService.getPackageVersionDownloads(this.packageName, version, fromDate, toDate)\n                    .map((downloads: number): VersionDownloads => {\n                        return {version, downloads};\n                    })\n                    .do((versionDownloads: VersionDownloads): void => {\n                        if (this.poolCounter) {\n                            this.poolCounter.increase();\n                        }\n                    })\n                    .toPromise();\n              });\n\n              Promise.all(versionsPromises)\n                  .then((versionsDownloads: VersionDownloads[]): void => {\n                      this.totalDownloads = versionsDownloads.reduce(\n                          (previous: number, item: VersionDownloads): number => (previous + item.downloads),\n                          0,\n                      );\n                      const versionsMap = versionsDownloads.reduce((container: {}, item: VersionDownloads): {} => {\n                          const groupVersion = this.extractGroupedVersion(item.version);\n                          if (undefined === container[groupVersion]) {\n                              container[groupVersion] = 0;\n                          }\n                          container[groupVersion] += item.downloads;\n                          return container;\n                      }, {});\n\n                      this.versions = Object.keys(versionsMap)\n                          .sort((left: string, right: string): number => {\n                            const leftParts = left.split('.');\n                            const rightParts = right.split('.');\n                            if (leftParts.length !== rightParts.length) {\n                                return left.localeCompare(right);\n                            }\n\n                            let leftPart, rightPart;\n\n                            do {\n                                leftPart = leftParts.shift();\n                                rightPart = rightParts.shift();\n                            } while (leftPart === rightPart);\n\n                            const leftInt = parseInt(leftPart, 10);\n                            const rightInt = parseInt(rightPart, 10);\n\n                            return leftInt - rightInt;\n                          })\n                          .reverse()\n                          .map((version: string): VersionDownloads => {\n                            return {\n                              version: version,\n                              downloads: versionsMap[version],\n                            };\n                          });\n                  });\n\n          },\n          (error: any) => {\n              alert('error happen');\n              alert(JSON.stringify(error));\n              console.error('error', error);\n          }\n      );\n  }\n\n  private extractGroupedVersion(version: string) {\n    let groupedVersion = version.replace(/^v/, '');\n\n    if ('MAJOR' === this.grouping) {\n        groupedVersion = groupedVersion.replace(/^(\\d+).*$/, '$1.*');\n    } else {\n        groupedVersion = groupedVersion.replace(/^(\\d+\\.\\d+).*$/, '$1.*');\n    }\n\n    return groupedVersion;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.component.ts","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\n\ninterface VersionInfo {\n    version: string;\n}\n\ninterface VersionsCollection {\n    [K: string]: VersionInfo;\n}\n\ninterface PackageVersionsCollection {\n    packages: {\n        [packageName: string]: VersionsCollection;\n    };\n}\n\n@Injectable()\nexport class PackagistService {\n  constructor(\n      private http: HttpClient,\n  ) { }\n\n  public getPackageVersions(name: string): Observable<string[]> {\n    return this.http.get(\n        `https://packagist.org/p/${name}.json`,\n    ).map((data: PackageVersionsCollection): string[] => {\n        return Object.keys(data.packages[name]);\n    });\n  }\n\n  public getPackageVersionDownloads(name: string, version: string, from: string, to: string): Observable<number> {\n      return this.http.get(\n        `https://packagist.org/packages/${name}/stats/${version}.json?average=daily&from=${from}&to=${to}`\n      ).map((data: any): number => {\n        return data.values.reduce((a: number, b: number): number => a + b, 0);\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/keradus/github/repo-stats.github.io/src/app/packagist/packagist.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /home/keradus/github/repo-stats.github.io/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'rxjs/Rx';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /home/keradus/github/repo-stats.github.io/src/main.ts"],"sourceRoot":"webpack:///"}